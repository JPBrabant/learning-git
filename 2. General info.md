# General information

## Tracked vs untracked

Tracked files are files that were in the last snapshot, as well as any newly staged files; they can be unmodified, modified, or staged. In short, tracked files are files that Git knows about.

Untracked files are everything else — any files in your working directory that were not in your last snapshot and are not in your staging area.

## Trees

1. Stash
2. Workspace / Working directory / Working tree
3. Index / Staging area / Cache
    - The index start as a copy of the last commit. It is never empty. The diffs are added. 
4. Local repository
5. Upstream respository

https://ndpsoftware.com/git-cheatsheet.html

## Special argument `--` 

Most command support a special argument with 2 dash `--` as the next to last argument. Usually, this is followed by a list of files. Those files could have a name that start with a dash and git could confuse it as an argument. Using those 2 dash protect agaist this situation. 

## Reference

### Commit

All commit have a unique SHA-1 hash. The first 5 caracters are usually enough to uniqly identify a commit. 

### HEAD

HEAD is the symbolic name for the currently checked out commit, it's essentially what commit you're working on top of. If you checkout a remote branch, you will be in detached HEAD state meaning HEAD will direclty point to a commit and not a branch because you cannot move a remote branch. 

### MERGE_HEAD

### FETCH_HEAD

### TAG

Tag are name that you give to certain commit. There are lightweight and annotated tag, I will mostly use the latter. 

```Shell
git tag -a <tagName> <commitHash> -m "Comment line 1" -m "Comment line 2" ...

git show <tagName>
```

The `-m` args is optional, your default editor will open if you omit, and the commit hash is also optional, it will tag HEAD if you omit. 

Tags are not pushed to a remote repo by default.

### Remote

There is remote reference like origin/main. Origin is the remote repo and /main is the branch on origin. Those branch are read only. If you git switch to them, HEAD will point to the underlying commit, and not the branch. Doing a commit will not move the branch. 

### Ancestry reference

Finaly there are relative reference. 

```Shell
git show s9419^ # Parent of commit s9419
git show HEAD^  # Parent of HEAD
git show HEAD^2 # 2nd parent of HEAD in case of a merge
git show HEAD~2 # Grand parent of HEAD
git show HEAD~3 # Grand grand parent of HEAD
```

Source : [https://git-scm.com/book/](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)

## Objects

Git stores repository contents as *objects* 

- **Blobs** : One blob for each file modified.
- **Trees** : Contain pointers to all file modified in the staging area.
- **Commits** : Contain the message, author, email and point to a tree.

Branch are pointer to a commit. HEAD is a pointer to a branch (exception with detached HEAD pointing directly to a commit).

## Range

### Double dot range

`git log master..experiment` : Every commit that is in experiment but not in master. 

`git log origin/master..HEAD` : An example where it show you everyting that you are about to push to origin. 